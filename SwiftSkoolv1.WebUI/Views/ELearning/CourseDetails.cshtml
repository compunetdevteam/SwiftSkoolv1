@using SwiftSkoolv1.WebUI.Models
@model SwiftSkoolv1.Domain.Subject
<div class="card">
    <div class="card-head style-primary">
      </div><!--end .card-head -->
    <div class="card-body">
        <table table-responsive>
            <tr>
                <td>Subject Name:&nbsp;</td>
                <th>@Html.DisplayFor(model => model.SubjectName)</th>
            </tr>
            @*<tr>
                <td>Course Name:&nbsp;</td>
                <th>@Html.DisplayFor(model => model.CourseName)</th>
            </tr>
            <tr>
                <td>Description:&nbsp;</td>
                <th>@Html.DisplayFor(model => model.CourseDescription)</th>
            </tr>*@
        </table>

        <header>
            <h4> List of Modules</h4>
        </header>

        <table class="table-responsive table-striped">
            <tr>
                <th style="width:auto">Modules Name</th>
                <th style="width:auto">Description</th>
                <th>&nbsp; &nbsp;</th>

                <th style="width:auto">Actions</th>

            </tr>
            @foreach (var item in Model.Modules)
            {
                <tr>

                    <td>
                        @Html.DisplayFor(modelItem => item.ModuleName)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.ModuleDescription)
                    </td>

                    <th>&nbsp; &nbsp;</th>
                    <td>
                        @*<div class="btn-group">*@
                            @if (User.IsInRole("Teacher") || User.IsInRole("Admin"))
                            {
                                <a title="Edit Module" onclick="EditModule('@item.ModuleId')"> <i class="fa fa-pencil">Edit</i>&nbsp; </a> 
                                <a title="Add Topic" data-toggle="modal" onclick="AddTopic('@item.ModuleId')"><i class="fa fa-plus-circle">Topic &nbsp;</i> </a>
                                <a title="View Topics" onclick="TopicDetails('@item.ModuleId')"><i class="fa fa-eye">Topics</i> </a>
                               
                            }
                            else if (User.IsInRole("Student"))
                            {
                                <a onclick="TopicDetails('@item.ModuleId')"><i class="fa fa-eye">Topics</i> </a>
                            }
                        @*</div>*@


                    </td>
                   
                </tr>
               
            }
           
        </table>

        <br />
        <br />
     
    </div>
</div>


<!-- Modal -->
<div class="modal fade modal-bf-fh" id="actionsList" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
        <!--Content-->
        <div class="modal-content">
            <!--Header-->
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
                <div class="flex-center">
                    <h4 class="modal-title"></h4>
                </div>
            </div>
            <!--Body-->
            <div class="modal-body" id="myModalDivBody">
            </div>
        </div>
        <!--/.Content-->
    </div>
</div>
<!-- /.Modal-->

<script type="text/javascript">

    function EditModule(moduleId) {
        var url = "/ELearning/EditModule?id=" + moduleId;
        $('#myModalDivBody').load(url,
            function () {
                $('#actionsList').modal("show");
            });
    };


    function AddTopic(moduleId) {
        var url = "/ELearning/SaveTopic?id=" + moduleId;
        $('#myModalDivBody').load(url,
            function () {
                $('#actionsList').modal("show");
            });
    };

    function TopicDetails(moduleId) {
        var url = "/ELearning/DetailTopic?id=" + moduleId;
        $('#mydetailBody2').load(url);
        $('html, body').animate({ scrollTop: $('#mydetailBody2').offset().top }, 'slow');

    };


</script>